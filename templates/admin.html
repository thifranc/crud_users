<html>
  <head>
      <title>Chez Thibault</title>
			<link rel="icon" href="favicon.ico" type="image/x-icon" />
  </head>
  <body>
    Bienvenue {{ login }}, tu pèses toi t'es admin, respect brooo
    Ici tu peux créer un user:
    <form method="post" id="createUser" action="/users">
      <label>
      Login
        <input type="text" name="login" >
      </label>

      <label>
      Mail
        <input type="text" name="mail">
      </label>

      <label>
      Password
        <input type="password" name="password">
      </label>

      <label>
        Role
        <select name="id_role">
          <option value=1>Default</option>
          <option value=2>Administrator</option>
        </select>
      </label>

      <input type="submit" value="Submit">
    </form>

    Si tu veux changer un mdp tu hésites pas c'est juste là maggle:
    <form method="post" id="updateUser" action="/updateUser">
      <label>
      Login
        <input type="text" name="login" >
      </label>

      <label>
      New Password
        <input
          type="password"
          id="new_password"
          name="new_password">
      </label>

      <label>
      Confirm New Password
        <input
          type="password"
          id="confirm_password"
          name="confirm_password">
      </label>

      <input type="submit" value="Submit">
    </form>

    Regarde moi cette liste de users mon pote, un max de growth hack qu'on a encore fait pour choper tout ça :
    <ul>
    {% for user in users %}
    <li>{{ user.id }}  {{ user.login }}  {{ user.mail }}</li>
    {% endfor %}
    </ul>

    <script>
			document.querySelector("#updateUser").addEventListener("submit", function(e){
          if (document.getElementById("new_password").value === ""
            || document.getElementById("new_password").value !== document.getElementById("confirm_password").value ) {
				    e.preventDefault();
            alert("PASSWORD DOES NOT MATCH")
          }
				
			});
    </script>
  </body>
</html>
